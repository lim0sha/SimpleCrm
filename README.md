# Simple CRM üìä
–ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ–¥–∞–≤—Ü–∞—Ö –∏ –∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö.

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞–º–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏: —Å–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –º—è–≥–∫–æ–µ –∏ –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ.
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: –ø–æ–∏—Å–∫ —Ç–æ–ø-–ø—Ä–æ–¥–∞–≤—Ü–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥, –ø–æ–∏—Å–∫ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ —Å –æ–±–æ—Ä–æ—Ç–æ–º –Ω–∏–∂–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏—á–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
    - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Update –æ–ø–µ—Ä–∞—Ü–∏–π.
    - Delete Type:
        - Soft-delete: –¥–∞–Ω–Ω—ã–µ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏, –∞ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ —É–¥–∞–ª—ë–Ω–Ω—ã–µ.
        - Hard-delete: –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- **Java 21** (Gradle)
- **Spring Boot 3.4+** (Data JPA, WebMVC, Test)
- **PostgreSQL 12+** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –°–£–ë–î
- **Flyway** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **H2** ‚Äî in-memory –±–∞–∑–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- **SwaggerUI (OpenAPI)** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
- **Spring Boot Test (JUnit 5 + Mockito)** ‚Äî –º–æ–¥—É–ª—å–Ω–æ–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Lombok**

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **Gradle** ‚Äî —Å–±–æ—Ä–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **Postman** ‚Äî —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ API

---

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 21
- Gradle 8.0+
- PostgreSQL 12+

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL, –Ω–∞–ø—Ä–∏–º–µ—Ä: `simple_crm_db`.
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –ø–æ –ø—É—Ç–∏ `Presentation/.env`
2. –í—ã—Å—Ç–∞–≤–∏—Ç–µ –≤ –Ω–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–π –≤–∞–º–∏ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Å–ª–µ–¥—É—è –ø—Ä–∏–º–µ—Ä—É –∏–∑ `.env.example`.
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `gradle.properties` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
4. –í—ã—Å—Ç–∞–≤–∏—Ç–µ –≤ –Ω–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è Flyway, —Å–ª–µ–¥—É—è –ø—Ä–∏–º–µ—Ä—É –∏–∑ `gradle.properties.example`.
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π data source –≤ –≤–∞—à–µ–π IDE.

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Spring Boot, –µ—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –∏–º–µ—é—Ç—Å—è
taskkill /f /im java.exe

# –°–±–æ—Ä–∫–∞
./gradlew clean build --refresh-dependencies

# –ú–∏–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Flyway
./gradlew :Presentation:flywayClean :Presentation:flywayMigrate

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./gradlew :Presentation:bootRun
```

> [!WARNING]
> –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –æ—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π –≤ Flyway –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ Pro –∏–ª–∏ Enterprise Edition. –ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –≤—ã –≤–¥—Ä—É–≥ —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å –ø—Ä–æ–±–ª–µ–º–æ–π –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã / flyway_schema_history –Ω–µ–≤–∞–ª–∏–¥–Ω–∞ / –∏ —Ç.–¥.), —Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ PgAdmin –∏–ª–∏ console query, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –≤ IDE.

–ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:8080`.

---

## API
### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
**Request:**
```http
POST http://localhost:8080/api/sellers
Content-Type: application/json
{
  "name": "John Doe",
  "contactInfo": "john.doe@example.com",
  "registrationDate": "2025-10-07T12:30:00"
}
```
**Response:**
```
201 Created
{
    "seller": {
        "id": 1,
        "name": "John Doe",
        "contactInfo": "john.doe@example.com",
        "registrationDate": "2025-10-10T19:46:19.7552163",
        "version": null
    },
    "message": null,
    "errorType": null
}
```
---
**Request:**
```http
DELETE http://localhost:8080/api/transactions/1?deleteType=soft
```
**Response:**
```
204 No Content
```
---
**Request:**
```http
GET http://localhost:8080/api/analytics/best-period/1
Content-Type: application/json
{
  "amount": 65.05,
  "paymentType": "CASH",
  "transactionDate" : "2025-09-07T14:00:00",
  "sellerId": 1
}

```
**Response:**
```
200 OK
{
    "startDate": "2025-06-07T14:00:00",
    "endDate": "2025-10-07T14:00:00",
    "transactionCount": 3
}
```




–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8080/swagger-ui/index.html**

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Unit-—Ç–µ—Å—Ç—ã** –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π, DTO, —Å–µ—Ä–≤–∏—Å–æ–≤, —É—Ç–∏–ª–∏—Ç. Average coverage: 90%
- **API-—Ç–µ—Å—Ç—ã** –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API.
- **Integration-—Ç–µ—Å—Ç—ã** –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º H2 in-memory –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:
```bash

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
./gradlew test

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ —Å –ø–æ–º–æ—â—å—é JaCoCo
./gradlew jacocoRootReport
```
–û—Ç—á—ë—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ `build/reports/jacoco/rootHtml/index.html`.

---


## –ö–æ–Ω—Ç–∞–∫—Ç—ã
–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ / –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏: [limosha@inbox.ru](mailto:–≤–∞—à-email@example.com)

--- 
